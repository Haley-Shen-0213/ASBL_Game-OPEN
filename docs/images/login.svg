<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -7.999998092651367 517.34375 765.9270629882812" style="max-width: 517.34375px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graphDiv"><style>#graphDiv{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}#graphDiv .error-icon{fill:#a44141;}#graphDiv .error-text{fill:#ddd;stroke:#ddd;}#graphDiv .edge-thickness-normal{stroke-width:2px;}#graphDiv .edge-thickness-thick{stroke-width:3.5px;}#graphDiv .edge-pattern-solid{stroke-dasharray:0;}#graphDiv .edge-pattern-dashed{stroke-dasharray:3;}#graphDiv .edge-pattern-dotted{stroke-dasharray:2;}#graphDiv .marker{fill:lightgrey;stroke:lightgrey;}#graphDiv .marker.cross{stroke:lightgrey;}#graphDiv svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graphDiv .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#graphDiv .cluster-label text{fill:#F9FFFE;}#graphDiv .cluster-label span,#graphDiv p{color:#F9FFFE;}#graphDiv .label text,#graphDiv span,#graphDiv p{fill:#ccc;color:#ccc;}#graphDiv .node rect,#graphDiv .node circle,#graphDiv .node ellipse,#graphDiv .node polygon,#graphDiv .node path{fill:#1f2020;stroke:#81B1DB;stroke-width:1px;}#graphDiv .flowchart-label text{text-anchor:middle;}#graphDiv .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#graphDiv .node .label{text-align:center;}#graphDiv .node.clickable{cursor:pointer;}#graphDiv .arrowheadPath{fill:lightgrey;}#graphDiv .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#graphDiv .flowchart-link{stroke:lightgrey;fill:none;}#graphDiv .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#graphDiv .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#graphDiv .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#graphDiv .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#graphDiv .cluster text{fill:#F9FFFE;}#graphDiv .cluster span,#graphDiv p{color:#F9FFFE;}#graphDiv div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#graphDiv .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#graphDiv :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="graphDiv_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="graphDiv_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L0 LE-L1" id="L-L0-L1-0" d="M249.294,38.333L249.294,42.5C249.294,46.667,249.294,55,249.294,62.45C249.294,69.9,249.294,76.467,249.294,79.75L249.294,83.033"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L1 LE-L2" id="L-L1-L2-0" d="M249.294,126.667L249.294,130.833C249.294,135,249.294,143.333,249.36,150.867C249.426,158.4,249.558,165.134,249.624,168.501L249.69,171.868"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L2 LE-L3" id="L-L2-L3-0" d="M198.698,331.664L184.158,346.208C169.618,360.751,140.538,389.839,125.998,409.611C111.458,429.383,111.458,439.838,111.458,445.066L111.458,450.294"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L3 LE-L4" id="L-L3-L4-0" d="M111.458,517.26L111.458,521.427C111.458,525.594,111.458,533.927,111.458,541.377C111.458,548.827,111.458,555.394,111.458,558.677L111.458,561.96"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L4 LE-L5" id="L-L4-L5-0" d="M111.458,661.594L111.458,665.76C111.458,669.927,111.458,678.26,111.458,685.71C111.458,693.16,111.458,699.727,111.458,703.01L111.458,706.294"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L2 LE-L6" id="L-L2-L6-0" d="M300.891,331.664L315.264,346.208C329.637,360.751,358.384,389.839,372.757,409.611C387.13,429.383,387.13,439.838,387.13,445.066L387.13,450.294"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L6 LE-L7" id="L-L6-L7-0" d="M387.13,517.26L387.13,521.427C387.13,525.594,387.13,533.927,387.13,546.044C387.13,558.16,387.13,574.06,387.13,582.01L387.13,589.96"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(111.45833587646484, 418.92708110809326)" class="edgeLabel"><g transform="translate(-8, -11.666666984558105)" class="label"><foreignObject height="23.33333396911621" width="16"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">是</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(387.13021087646484, 418.92708110809326)" class="edgeLabel"><g transform="translate(-8, -11.666666984558105)" class="label"><foreignObject height="23.33333396911621" width="16"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">否</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(249.29427337646484, 19.16666603088379)" data-id="L0" data-node="true" id="flowchart-L0-173" class="node default default flowchart-label"><rect height="38.33333396911621" width="290.63543701171875" y="-19.166666984558105" x="-145.31771850585938" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-137.81771850585938, -11.666666984558105)" style="" class="label"><rect></rect><foreignObject height="23.33333396911621" width="275.63543701171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">POST /login：提交 account、password</span></div></foreignObject></g></g><g transform="translate(249.29427337646484, 107.49999809265137)" data-id="L1" data-node="true" id="flowchart-L1-174" class="node default default flowchart-label"><rect height="38.33333396911621" width="166.7291717529297" y="-19.166666984558105" x="-83.36458587646484" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-75.86458587646484, -11.666666984558105)" style="" class="label"><rect></rect><foreignObject height="23.33333396911621" width="151.7291717529297"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">查詢 User by account</span></div></foreignObject></g></g><g transform="translate(249.29427337646484, 279.46353912353516)" data-id="L2" data-node="true" id="flowchart-L2-175" class="node default default flowchart-label"><polygon style="" transform="translate(-102.79687786102295,102.79687786102295)" class="label-container" points="102.79687786102295,0 205.5937557220459,-102.79687786102295 102.79687786102295,-205.5937557220459 0,-102.79687786102295"></polygon><g transform="translate(-76.13021087646484, -11.666666984558105)" style="" class="label"><rect></rect><foreignObject height="23.33333396911621" width="152.2604217529297"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">verify_password 成功</span></div></foreignObject></g></g><g transform="translate(111.45833587646484, 486.4270820617676)" data-id="L3" data-node="true" id="flowchart-L3-176" class="node default default flowchart-label"><rect height="61.66666793823242" width="222.9166717529297" y="-30.83333396911621" x="-111.45833587646484" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-103.95833587646484, -23.33333396911621)" style="" class="label"><rect></rect><foreignObject height="46.66666793823242" width="207.9166717529297"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">寫入 LoginLog：success=True<br/>記錄 ip、ua</span></div></foreignObject></g></g><g transform="translate(111.45833587646484, 614.4270839691162)" data-id="L4" data-node="true" id="flowchart-L4-177" class="node default default flowchart-label"><rect height="94.33333587646484" width="170.625" y="-47.16666793823242" x="-85.3125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-77.8125, -39.66666793823242)" style="" class="label"><rect></rect><foreignObject height="79.33333587646484" width="155.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">更新 session：<br/>account=user.account<br/>user_id=user.id<br/>touch last seen</span></div></foreignObject></g></g><g transform="translate(111.45833587646484, 730.7604179382324)" data-id="L5" data-node="true" id="flowchart-L5-178" class="node default default flowchart-label"><rect height="38.33333396911621" width="92.21875" y="-19.166666984558105" x="-46.109375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-38.609375, -11.666666984558105)" style="" class="label"><rect></rect><foreignObject height="23.33333396911621" width="77.21875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">導向首頁 /</span></div></foreignObject></g></g><g transform="translate(387.13021087646484, 486.4270820617676)" data-id="L6" data-node="true" id="flowchart-L6-179" class="node default default flowchart-label"><rect height="61.66666793823242" width="228.42709350585938" y="-30.83333396911621" x="-114.21354675292969" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-106.71354675292969, -23.33333396911621)" style="" class="label"><rect></rect><foreignObject height="46.66666793823242" width="213.42709350585938"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">寫入 LoginLog：success=False<br/>記錄 ip、ua</span></div></foreignObject></g></g><g transform="translate(387.13021087646484, 614.4270839691162)" data-id="L7" data-node="true" id="flowchart-L7-180" class="node default default flowchart-label"><rect height="38.33333396911621" width="200.90625" y="-19.166666984558105" x="-100.453125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-92.953125, -11.666666984558105)" style="" class="label"><rect></rect><foreignObject height="23.33333396911621" width="185.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">導向 /login?msg=登入失敗</span></div></foreignObject></g></g></g></g></g></svg>